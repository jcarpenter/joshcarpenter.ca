// Base
@use "fonts";
@use "tables";
@use "variables";

// Copy: Styles grouped under .copy
@use "copy";

// Includes
@use "about-the-author";
@use "footer";
@use "footnotes";
@use "lightbox";
@use "more-content";
@use "navigation";
@use "slideshow";
@use "toggle-theme-button";

// Helpers
@use "utility-classes";
@use "mixins-and-functions" as *;
@use "sass:math";
// @use "grid-helpers";
// @use "charts";
// @use "sanitize";
// @use "reset";


/*
========================================================
BASE: LAYOUT
========================================================
*/

html {
	font-size: var(--html-font-size);

	// Universal box sizing with inheritance:
	// Reset box-sizing to border-box for all elements (including 
	// pseudo elements). Set on html, and then tell all elements 
	// to inherit. This allows elements to override. 
	// Per: https://css-tricks.com/box-sizing/
	box-sizing: border-box;
}

*,
*:before,
*:after {
	box-sizing: inherit;
	word-break: normal;
	// line-height: inherit;
}

body {
	margin: 0;
	padding: 2rem 0rem;
	overflow-x: hidden;
	position: relative;
	color: onBackground(var(--base-text-alpha));
	background-color: background(1);
	transition: color 0.2s, background-color 0.2s;
}

// This stops a flash of white on page load. Then 
// toggle-theme.js sets the data-theme
// value to 'light' or 'dark', and the page renders.
body[data-theme=none] {
  transition: none !important;
  display: none;
}

// We hide the outline on main, or else it appears when main is clicked.
// This happens because we set tabindex="-1" on main. We do that because
// it's recommended for the targets of "Skip to content" links.
// Per: https://webdesign.tutsplus.com/articles/keyboard-accessibility-tips-using-html-and-css--cms-31966
main:focus {
	outline: none;
}


/*
========================================================
BASE: ELEMENTS
========================================================
*/

/* -------------- Abbr -------------- */

abbr {
	font-variant-caps: all-small-caps;
	font-variant-numeric: oldstyle-nums;
}

/* -------------- Address -------------- */

address {
	font-style: normal;
}


/* -------------- Buttons -------------- */

button {
	background: transparent;
	border: none;
	padding: 0;
}

/* -------------- h1, h2, h3 -------------- */

h1,
h2,
h3 {
	font-kerning: normal;
}


/* -------------- Horizontal rule  -------------- */

hr {
	width: 100%;
	height: 0.5rem;
}

/* -------------- Images & Media -------------- */

img,
embed,
object,
video {
	max-width: 100%;
	height: auto;
}

/* -------------- Links -------------- */

a {
	@include outline-on-focus;
	transition: color 0.1s, text-decoration-color 0.1s;
}

/* -------------- Paragraph -------------- */
	
p {
	// By default, remove top margin
	margin-top: 0;
}
